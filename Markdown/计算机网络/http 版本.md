## http 0.9

1. http 0.9 只是一个简单的协议，只有一个 GET 方法，没有首部，目标用来获取 HTML；

### 流程

1. 客户端构建请求，通过 DNS 查询 IP 地址；
2. 三次握手建立 TCP 连接；
3. 客户端发起请求，服务器响应；
4. 四次挥手断开 TCP 连接；

## http 1.0

### 流程

1. 客户端构建请求，通过 DNS 查询 IP 地址；
2. 三次握手建立 TCP 连接；

## http 1.0 

### http1.1

1. 改进持久连接和 CDN 域名的分片机制；
2. 不成熟的 http 管道化；
3. 提供虚拟主机支持；
4. 对动态生成的内容完美支持；
5. 引入 cookie 以及安全机制；

### http1.x 存在的问题

1. 协议规定客户端对同一域的并发连接最多只能2个；
2. 队头阻塞：同一个连接中的请求，需要一个接一个串行发送和接收；
3. 基于文本协议，请求和响应头信息非常大，并且无法压缩；
4. 不能控制响应的优先级，必须按照请求顺序响应；
5. 只能单向请求，也就是客户端请求什么，服务器只能返回什么；

## http 2.0

> http2 是超文本传输协议的第二版，相比 http1 协议的文本传输格式，http2 是以二进制的格式进行数据传输的，具有更小的体积以及负载；

1. 传输内容使用二进制协议；

   ```
   在 http1.x ，无论是传输内容或头信息，都是文本/ ASCII 编码的，虽然有利于从请求中直接观察内容 ，但是使得想要实现并发传输异常困难（存在空格或其他字符，很难判断消息的起始和结束），使用二进制传输可以避免这个问题，因为传输内容只有1和0，通过帧规范规定格式，可以识别出不同类型的内容，同时有更小的传输体积；
   ```

2. 使用帧作为最小传输单位；

   ​


1. 多路复用机制：引入了二进制分帧层机制来实现多路复用（分帧层是基于帧的二进制协议，方便了机器解析，请求和响应交织在一起）；
2. 可以设置请求的优先级（客户端的分帧层对分割块标上请求的优先级）；
3. 头部压缩、请求头压缩，增加传输效率；
4. 服务器推送；
5. 可重置消息；
6. 流量控制；

### 较 http1.1 优化

1. 多路复用的流；
2. 头部压缩；
3. 资源优先级和依赖设置；
4. 服务器推送；
5. 流量控制；
6. 重置消息；

## https

> https 协议是承载在 TCP 协议上的，在 http 和 tcp 之间添加一个安全层协议，SSL 或者 TSL （ssl/tls 协议传输，包含证书，卸载，流量转发，负载均衡，页面适配，浏览器适配，refer传递等）；

### 与 http 的对比

1. 传输方式：
   - http：明文传输，网站或者相关服务与用户之间的数据交互无加密，容易被监听、篡改；
   - https：在 http 加入了 ssl 层，用于数据加密传输；
2. 身份认证：
   - http：无任何身份认证，用户无法通过 http 辨认出网站的真实身份；
   - https：经过 CA 多重认证，包含域名管理权限认证等；
3. 成本：
   - http：无任何使用成本，所有网站默认是 http 模式；
   - https：需要成本，需要申请 SSL 证书来实现 https；
4. 连接端口：
   - http：80 端口；
   - https：443 端口；

## Http 的请求方法

1.  GET 方法：发送一个请求来获取服务器上的某些资源；
2.  POST 方法：向 URL 指定的资源提交数据或者附加新的数据；
3.  PUT 方法：和 POST 方法一样，可以向服务器提交数据，但是也有不同， PUT 指定了资源在服务器的位置，POST 没有；
4.  HEAD 方法：请求页面的首部；
5.  DELETE 方法：删除服务器上的某些资源；
6.  OPTIONS 方法：它用于获取当前 URL 所支持的方法，如果请求成功，在 Allow 的头包含类似 GET , POST 等信息；
7.  TRACE 方法：用于激发一个远程的，应用层的请求消息回路；
8.  CONNECT 方法：把请求连接转换到 TCP / IP 通道；



