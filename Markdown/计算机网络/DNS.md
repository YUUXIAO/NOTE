> DNS 协议提供的是一种主机名到 IP 地址的转换服务，就是域名系统；
>
> DNS 是应用层协议，通常该协议运行在 UDP 协议之上，使用 53 端口号；

### 查询过程

```
浏览器缓存 ==》 本地hosts文件 ==》 本地DNS解析器 ==》 本地DNS服务器 ==》 其他域名服务器请求
```

1. DNS 在本地 DNS 服务器发送请求是递归查询的：

   > 递归查询指的是查询请求发出后，域名服务器代为向下一级域名服务器发出请求，最后向用户返回查询的最终结果，用户只需要发出一次的查询请求；

   ​

   ![img](https://user-images.githubusercontent.com/34484322/89356512-95168e80-d6f0-11ea-93aa-c4f59fd36942.png)

2. 本地 DNS 服务器向其它域名服务器请求的过程是迭代查询的：

   > 迭代查询指的是查询请求后，域名服务器返回单次查询的结果，下一级的查询由用户自己请求，用户需要发出多次的查询请求；

![img](https://user-images.githubusercontent.com/34484322/89356522-99db4280-d6f0-11ea-9bf9-851b25bd16c3.png?imageslim)

### DNS 使用 UDP 协议作为传输层协议

> DNS 使用 UDP 协议作为传输层协议的主要原因是为了避免使用 TCP 协议时造成的连接延迟；

- 为了得到一个域名的 IP 地址，往往会向多个域名服务器查询，如果使用 TCP 协议，那么每次请求都会存在连接延迟，使得 DNS 服务变得很慢；
- 大多数的地址查询请求，都是浏览器请求页面时发出的，这样会造成网页等待的时间过长；