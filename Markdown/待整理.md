# Web 存储方案


1. **Cookie**

   **是什么**

   是服务器发送到用户浏览器并保存在本地的一小块数据，它会在浏览器下次向同一服务器再发起请求时被

   作用

   1. 会话状态管理：如用户登录状态、购物车、游戏分数或者其它需要记录的信息
   2. 个性化设置：如用户自定义设置、主题等
   3. 浏览器跟踪行为: 如跟踪分析用户行为等

   特点

   1. Cookie大小受限，一般为4KB
   2. 同一个域名下存放的Cookie的个数是有限制的，不同的浏览器的个数不一样，一般为20个
   3. Cookie支持设置过期时间，当过期时自动销毁
   4. 每次发起同域名下的HTTP请求时，都会携带当前域名下的Cookie
   5. 支持设置为HttpOnly，防止Cookie被客户端的Javascrip访问

2. **LocalStorage**

   是什么 

   一种持久化的存储方式，也就是说如果不手动清除，数据就永远不会过期。它是采用键值对的方式存储数据，按域名将数据分别保存到对应数据库文件里。它可以保存更大的数据

   特点

   1. 大小限制为5MB~10MB
   2. 在同源的所有标签页和窗口之间共享数据
   3. 数据仅保存在客户端，不与服务器进行通信
   4. 数据持久存在且不会过期，重启浏览器后仍然存在
   5. 对数据的操作是同步的

3. **SessionStorage**

   是什么

   是一种会话级别的缓存，关闭浏览器时数据会被清除。SessionStorage的作用域是窗口级别的，也就是说不同窗口之间保存的sessionStorage数据不能共享

   特点

   1. 数据只存在于当前浏览器的标签页
   2. 数据在页面刷新后仍然存在，但在关闭浏览器标签页之后数据就会被清除
   3. 与LocalStorage拥有统一的API接口
   4. 对数据的操作是同步的

4. **Web SQL**

   Web SQL数据库API实际上不是HTML5规范的一部分，而是一个单独的规范，它引入了一组API来使用SQL来操作客户端数据库。

   ~~HTML5已经放弃Web SQL数据库~~

   方法

   1. openDatabase: 这个方法使用现有数据库或新建数据库来创建数据库对象
   2. transaction: 这个方法允许我们根据情况控制事务的提交或回滚
   3. executeSql: 这个方法用于执行真实的SQL语句

   特点

   1. Web SQL能方便的进行对象存储
   2. Web SQL支持事务，能方便地进行数据查询和数据处理操作

   ​

5. **IndexedDB**

   IndexedDB是一种底层的API，用于客户端存储大量结构化数据，包括文件、二进制大型对象。该API使用索引来实现对该数据的高性能搜索。

   特点

   1. 存储空间大：存储之间可以达到几百兆甚至更多
   2. 支持二进制存储：不仅可以存储字符串，而且还可以存储进制数据
   3. IndexedDB有同源限制，每一个数据库只能在自身的域名下能访问，不能跨域名访问 
   4. 支持事务型：IndexedDB执行的操作都会免按照事务来分组的，在一个事务中，要么所有的操作都成功，要么所有的操作都失败
   5. 键值对存储： IndexedDB内部采用对象仓库存放数据。所有类型的数据都可以直接存入，包括JavaScript 对象。对象仓库中,数据以键值对的形式保存，每一个数据记录都有对应的主键，主键是独一无二的，不能重复，否则会抛出一个错误
   6. 数据操作都是异步的：使用IndexedDB执行的操作都是异步执行的，以免阻塞应用程序

