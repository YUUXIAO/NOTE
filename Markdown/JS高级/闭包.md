## 理解

1. 闭包是包含被引用变量（函数）的对象；
2. 闭包存在于嵌套的内部函数中；
3. 产生闭包的条件：函数嵌套；内部函数引用了外部函数的数据（变量 / 函数）；

## 常见的闭包

1. 将函数作为另一个函数的返回值；
2. 将函数作为实参传递给另一个函数调用 ；

## 闭包的作用

1. 使用函数内部的变量在函数执行完后，仍然存活在内存中（延长了局部变量的生命周期）；
2. 让函数外部可以操作（读写）到函数内部的数据；
3. 应用：定义JS模块；

## 闭包的生命周期

1. 产生：在嵌套的内部函数定义执行完时就产生了（不是在调用）；
2. 死亡：在嵌套的内部函数成为垃圾对象时；

## 闭包的缺点

1. 函数执行完后，函数内的局部变量没有释放，占用内存时间变长；
2. 容易造成内存泄露；

```javascript
// 代码片段一
var name = "The Window";
var object = {
    name : "My Object",
    getNameFunc : function(){
        return function(){
            return this.name;
        };
    }
};
console.log(object.getNameFunc()()); 	// The Window

//代码片段二
var name2 = "The Window";
var object2 = {
    name2 : "My Object",
    getNameFunc : function(){
        var that = this;
        return function(){
            return that.name2;
        };
    }
};
console.log(object2.getNameFunc()()); 	// "My Object"

// 代码片段三
function fun(n,o) {
  console.log(o)
  return {
      fun:function(m){
          return fun(m,n);
      }
  };
}
var a = fun(0);  a.fun(1);  a.fun(2);  a.fun(3);		//undefined,0,0,0
var b = fun(0).fun(1).fun(2).fun(3);					//undefined,0,1,2
var c = fun(0).fun(1);  c.fun(2);  c.fun(3);			//undefined,0,1,1
```