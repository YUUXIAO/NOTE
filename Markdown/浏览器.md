- ## 浏览器的主要组成部分

1. 用户界面：地址栏、前进/后退按钮、书签菜单等
2. 浏览器引擎：在用户界面和呈现引擎之间传送指令
3. 呈现引擎：负责显现请求的内容，如果请求的内容是HTML，它就是负责解析HTML和CSS的内容，并将解析后的内容显示在屏幕上
4. 网络：用于网络调用，比如HTTP请求
5. 用户界面后端：用于绘制基本的窗口小部件，比如组合框和窗口
6. Javascript解释器：用于解析和执行Javascript代码 
7. 数据存储：这是持久层；浏览器需要在硬盘上保存各种数据，例如Cookie

## CSS加载会造成阻塞吗

> CSS不会阻塞DOM解析，但是会阻塞DOM渲染
>
> CSS会阻塞JS执行，并不会阻塞JS文件下载

- DOM和CSSOM是并行构建的，所以**CSS 加载不会阻塞 DOM 的解析**
- 由于render Tree是依赖DOM Tree和 CSSOM Tree的，所以它必须等到两者都加载完毕之后，完成相应的构建才开始渲染，所以**CSS加载会阻塞DOM渲染**
- 由于JS是可操纵DOM和CSS样式的，如果在修改这些元素属性同时渲染界面，那么渲染后线程前后获得的元素数据就可能不一致的，因此为了防止渲染出现 不可预期的结果，浏览器设置**GUI 渲染线程与 JavaScript 引擎为互斥**的关系
- 有时候JS需要等到CSS的下载：如果脚本的内容是获取元素的样式，宽高等`CSS`控制的属性，浏览器是需要计算的，也就是依赖于CSS。浏览器也无法感知脚本内容到底是什么，为避免样式获取，因而只好等前面所有的样式下载完后，再执行JS。JS文件下载和CSS文件下载是并行的，有时候CSS文件很大，所以JS需要等待。因此,样式表会在后面的 js 执行前先加载执行完毕,所以**css 会阻塞后面 js 的执行**。

## JS会阻塞页面加载

## defer 和 async 的区别 

- 两者都是异步去加载外部JS文件，不会阻塞DOM解析
- Async是在外部JS加载完成后，浏览器空闲时，Load事件触发前执行，标记为async的脚本并不保证按照指定他们的先后顺序执行，该属性对于内联脚本无作用 (即没有src属性的脚本）
- defer是在JS加载完成后，整个文档解析完成后，触发 DOMContentLoaded事件前执行，该属性对于内联脚本无作用 (即没有src属性的脚本）

## DOMContentLoaded 与 load 的区别<https://juejin.im/post/5f184aade51d4534aa4ad7c0>